!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common"),require("@angular/cdk/clipboard"),require("@angular/material/icon"),require("@angular/material/tooltip"),require("@angular/material/button")):"function"==typeof define&&define.amd?define("@covalent/highlight",["exports","@angular/core","@angular/platform-browser","@angular/common","@angular/cdk/clipboard","@angular/material/icon","@angular/material/tooltip","@angular/material/button"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).covalent=e.covalent||{},e.covalent.highlight={}),e.ng.core,e.ng.platformBrowser,e.ng.common,e.ng.cdk.clipboard,e.ng.material.icon,e.ng.material.tooltip,e.ng.material.button)}(this,(function(e,t,o,n,i,r,p,a){"use strict";var l=require("highlight.js/lib"),d=function(){function e(e,o,n,i){this._renderer=e,this._elementRef=o,this._domSanitizer=n,this.cdr=i,this._initialized=!1,this._lang="typescript",this.copyCodeToClipboard=!1,this.copyCodeTooltips={},this.contentReady=new t.EventEmitter}return Object.defineProperty(e.prototype,"content",{set:function(e){this._content=e,this._initialized&&this._loadContent(this._content)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"codeLang",{set:function(e){this.setLanguage(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lang",{set:function(e){console.warn("DEPRECATION WARNING: switch to codeLang attribute as lang attribute is deprecated."),this.setLanguage(e)},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewChecked=function(){this.cdr.detectChanges()},e.prototype.ngAfterViewInit=function(){this._content?this._loadContent(this._content):this._loadContent(this.highlightComp.nativeElement.textContent),this._initialized=!0},e.prototype.setLanguage=function(e){if(!e)throw new Error("Error: language attribute must be defined in TdHighlightComponent.");this._lang=e,this._initialized&&this._loadContent(this._content)},e.prototype._loadContent=function(e){e&&e.trim().length>0&&(this._renderer.setProperty(this._elementRef.nativeElement,"innerHTML",""),this._elementFromString(this._render(e)),this.copyCodeToClipboard&&this._renderer.appendChild(this._elementRef.nativeElement,this.copyComp.nativeElement)),this.contentReady.emit()},e.prototype._elementFromString=function(e){var o=this._renderer.createElement("pre");this._renderer.appendChild(this._elementRef.nativeElement,o);var n=this._renderer.createElement("code");return this._renderer.appendChild(o,n),this._renderer.addClass(n,"highlight"),n.innerHTML=this._domSanitizer.sanitize(t.SecurityContext.HTML,e),o},e.prototype._render=function(e){var t=(e=e.replace(/^(\s|\t)*\n+/g,"").replace(/(\s|\t)*\n+(\s|\t)*$/g,"")).split("\n"),o=t[0].match(/^(\s|\t)*/)[0],n=new RegExp("^"+o),i=(t=t.map((function(e){return e.replace('=""',"").replace(n,"").replace(/\s+$/,"")}))).join("\n").replace(/\{ \{/gi,"{{").replace(/\} \}/gi,"}}").replace(/&lt;/gi,"<").replace(/&gt;/gi,">");this.copyContent=i;var r=l.highlight(this._lang,i,!0);return r.value=r.value.replace(/=<span class="hljs-value">""<\/span>/gi,"").replace("<head>","").replace("<head/>",""),r.value},e}();d.decorators=[{type:t.Component,args:[{selector:"td-highlight",template:'<div>\n  <div #highlightComponent>\n    <ng-content></ng-content>\n  </div>\n\n  <div #copyComponent *ngIf="copyCodeToClipboard">\n    <td-copy-code-button\n      [copiedContent]="copyContent"\n      [copyCodeToClipboard]="copyCodeToClipboard"\n      [copyCodeTooltips]="copyCodeTooltips"\n    ></td-copy-code-button>\n  </div>\n</div>\n',styles:[":host ::ng-deep{display:-ms-flexbox;display:flex;overflow-x:auto;padding:16px}:host ::ng-deep .highlight,:host ::ng-deep code,:host ::ng-deep pre{font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace}:host ::ng-deep pre{-moz-tab-size:2;-o-tab-size:2;-webkit-font-smoothing:auto;-webkit-text-size-adjust:none;background:rgba(0,0,0,0);border-radius:2px;display:block;font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;font-size:.8rem;line-height:1.45;margin:0;overflow-x:auto;padding:0;position:relative;tab-size:2;width:100%}:host ::ng-deep code{margin:0;overflow-wrap:break-word;padding:0;white-space:pre-wrap}:host ::ng-deep .highlight{display:block;line-height:1.5;margin:0;overflow-wrap:break-word}:host ::ng-deep .copy-button{background:inherit;border:none;margin-right:-8px;margin-top:-8px}"]}]}],d.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:o.DomSanitizer},{type:t.ChangeDetectorRef}]},d.propDecorators={content:[{type:t.Input,args:["content"]}],copyCodeToClipboard:[{type:t.Input}],copyCodeTooltips:[{type:t.Input}],codeLang:[{type:t.Input,args:["codeLang"]}],lang:[{type:t.Input}],contentReady:[{type:t.Output}],highlightComp:[{type:t.ViewChild,args:["highlightComponent"]}],copyComp:[{type:t.ViewChild,args:["copyComponent"]}],tooltip:[{type:t.ViewChild,args:["tooltip"]}]};var c=function(){function e(){this.copyCodeToClipboard=!1,this.copyCodeTooltips={}}return Object.defineProperty(e.prototype,"copyTooltip",{get:function(){return this.copyCodeTooltips&&this.copyCodeTooltips.copy||"Copy"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"copiedTooltip",{get:function(){return this.copyCodeTooltips&&this.copyCodeTooltips.copied||"Copied"},enumerable:!1,configurable:!0}),e.prototype.textCopied=function(e){e&&(this.tooltip.hide(),this.tooltip.message=this.copiedTooltip,this.tooltip.show())},e.prototype.initializeTooltip=function(){var e=this;setTimeout((function(){e.tooltip.message=e.copyTooltip}),200)},e}();c.decorators=[{type:t.Component,args:[{selector:"td-copy-code-button",template:'<button\n  mat-icon-button\n  [cdkCopyToClipboard]="copiedContent"\n  class="copy-button"\n  [matTooltip]="copyTooltip"\n  #tooltip="matTooltip"\n  (cdkCopyToClipboardCopied)="textCopied($event)"\n>\n  <mat-icon role="img">content_copy</mat-icon>\n</button>\n',styles:[""]}]}],c.propDecorators={copiedContent:[{type:t.Input}],copyCodeToClipboard:[{type:t.Input}],copyCodeTooltips:[{type:t.Input}],tooltip:[{type:t.ViewChild,args:["tooltip"]}],initializeTooltip:[{type:t.HostListener,args:["mouseleave"]}]};var s=function(){};s.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,i.ClipboardModule,r.MatIconModule,p.MatTooltipModule,a.MatButtonModule],declarations:[d,c],exports:[d]}]}],e.CovalentHighlightModule=s,e.TdCopyCodeButtonComponent=c,e.TdHighlightComponent=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-highlight.umd.min.js.map